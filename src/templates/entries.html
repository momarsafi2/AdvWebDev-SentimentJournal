{% extends "base.html" %} {% block title %}My Entries â€“ MoodFit{% endblock %} {%
block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h3 mb-0">My Entries</h1>
  <a
    href="{{ url_for('entries.new_entry_get') }}"
    class="btn btn-primary btn-sm"
  >
    + New entry
  </a>
</div>

{% if entries %}
<div class="list-group">
  {% for e in entries %}
  <div class="list-group-item">
    <div class="d-flex justify-content-between">
      <div>
        <small class="text-muted">
          {{ e.local_created_at.strftime("%Y-%m-%d %I:%M %p") }} EST
        </small>
      </div>
    </div>

    <p class="mb-1 mt-1">{{ e.text }}</p>

    {% if e.sentiment_label %} {% set color = 'text-success' if
    e.sentiment_label == 'POSITIVE' else 'text-danger' if e.sentiment_label ==
    'NEGATIVE' else 'text-secondary' %}
    <p class="mb-1 {{ color }}">
      <em
        >Sentiment: {{ e.sentiment_label }} ({{ "%.2f"|format(e.sentiment_score)
        }})</em
      >
    </p>
    {% endif %}

    <div class="mt-1">
      <a
        href="{{ url_for('entries.edit_entry_get', entry_id=e.id) }}"
        class="btn btn-outline-secondary btn-sm"
      >
        Edit
      </a>

      <form
        action="{{ url_for('entries.delete_entry', entry_id=e.id) }}"
        method="post"
        class="d-inline"
      >
        <button
          type="submit"
          class="btn btn-outline-danger btn-sm"
          onclick="return confirm('Delete this entry?');"
        >
          Delete
        </button>
      </form>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="alert alert-info">
  No entries yet.
  <a href="{{ url_for('entries.new_entry_get') }}" class="alert-link"
    >Write your first one.</a
  >
</div>
{% endif %} {% endblock %}
